# 215. Kth Largest Element in an Array

Given an integer array `nums` and an integer `k`, return _the_ `k`<sup>`th`</sup> _largest element in the array_.

Note that it is the `k`<sup>`th`</sup> largest element in the sorted order, not the `k`<sup>`th`</sup> distinct element.

Can you solve it without sorting?

&#x20;

**Example 1:**

<pre><code><strong>Input: nums = [3,2,1,5,6,4], k = 2
</strong><strong>Output: 5
</strong></code></pre>

**Example 2:**

<pre><code><strong>Input: nums = [3,2,3,1,2,4,5,5,6], k = 4
</strong><strong>Output: 4
</strong></code></pre>

&#x20;

**Constraints:**

* `1 <= k <= nums.length <= 10`<sup>`5`</sup>
* `-10`<sup>`4`</sup>` ``<= nums[i] <= 10`<sup>`4`</sup>



## Solution.

### brute force

```cpp
class Solution {
public:
    int findKthLargest(vector<int>& nums, int k) {
        sort(nums.begin(),nums.end());
        return nums[nums.size()-k];
    }
};
```

#### Complexity

* **TC = O(n\*logn)** tc for sorting
* **SC = O(logn)** stack space, otherwise o(1)

***

### max heap

```cpp
class Solution {
public:
//this heap approach, we will push all nums into a max heap and pop k times.
    int findKthLargest(vector<int>& nums, int k) {
        priority_queue<int> maxheap;
        for(int n: nums){
            maxheap.push(n);
        }

        for(int i=0; i<k-1; i++){
            maxheap.pop();
        }

        return maxheap.top();
    }
};
```

#### Complexity

* **Build heap:** O(n)
* **Pop k-1 times:** O(k log n)
* **Total TC:** O(n+klog⁡n)
* **SC:** O(n) (storing all elements in heap)



***

### min heap of k size

```cpp
class Solution {
public:
//in this heap sol, we will maintain a min heap of k size and we can just pop the top element then
    int findKthLargest(vector<int>& nums, int k) {
        priority_queue<int,vector<int>,greater<int>> pq;

        for(int n : nums){
            pq.push(n);
            if(pq.size()>k){
                pq.pop(); //smallest element removed
            }
        }

        return pq.top();
    }
};
```

#### Complexity

* For each of n elements, push and maybe pop → O(log k).
*   **Total TC:**

    O(nlog⁡k)O(n \log k)O(nlogk)
* **SC:** O(k) (heap stores at most k elements)



| Approach | Time Complexity | Space Complexity | When to use                                            |
| -------- | --------------- | ---------------- | ------------------------------------------------------ |
| Max-Heap | O(n + k log n)  | O(n)             | Simpler to implement, good if k is small relative to n |
| Min-Heap | O(n log k)      | O(k)             | More efficient when k ≪ n                              |



